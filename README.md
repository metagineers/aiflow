# AIFlow Autonomous Agents For ChainLink and Flow Blockchain üöÄ

### Post hackathon branch
This branch is created temporarily while the judging for the ChainLink Spring 2023 Hackathon is being judged so as to allow the continuation of small and critical bug fixes.

## What is this?
A feature-packed framework tool helps you build expressive and powerful APIs using LangChain and Express.js. This framework tool  provides a solid foundation for creating your own custom automous agents API with a wide range of functionalities. Get started quickly and build amazing AI ChainLink and Flow Blockchain APIs with ease! üéâ

For convinience, and as this started from the Chainlink/Flow hackathon, the demo has a few tools already pre-coded for you to use for both ChainLink (pricefeed) and Flow (query and mutate generic ones and profile smart contract). Just call the API on one of the endpoints and ask for task to be done that use the tools in natural language and the AI agent will the do the heavy lifting for you!

e.g.
1. Get top bullish news on Flow Blockchain and set my profile info on flow blackchain with the news title
2. Get the price of Bitcoin in USD (from chainlink) and send it to my Flow Blockchain profile smart contract

## üåà Features

- üì¶ Example implementations of common ChainLink pricefeed and Flow Blockchain - query, mutate tasks 
- üì¶ Implemetation of getting hot, rising, bullish, bearish,important, saved, lol news from CryptoPanic (specify flow blockchain rather than just flow for best results) e.g. what is the top bullish news on flow blockchain?
- üì¶ Implemetation of coinmarketcap ranking, metadata and price (for BTCUSD I have used Chainlink PriceFeed)
- üìã Clear and simple structure for adding new methods and new crypto tools
- üìö Auto-generated API documentation using OpenAPI and Swagger UI
- üö¶ Rate limiting and input validation for API routes
- üìà Logging and error handling
- üé® Beautiful and autogenerated frontend for testing your API
- üöÄ Easy deployment to your favorite hosting platform
- üê≥ Docker-ready for smooth deployment

## üéì Getting Started

1. Clone this repository:

```bash
git clone https://github.com/metagineers/aiflow
```

2. Install dependencies:

```bash
cd aiflow
npm install
```

3. Create a `.env` file in the root directory and add your API keys for tools you will be using or enabled:

```ini
OPENAI_API_KEY=
SERP_API_KEY=
MORALIS_API_KEY=
X_CMC_PRO_API_KEY=
X_CMC_PRO_API_KEY_SANDBOX=
COINMARKETCAP_SANDBOX=
COINMARKETCAP_PROD=
CRYPTOPANIC_API_KEY=
FLOW_ADDRESS=
FLOW_PRIVATE_KEY=
FLOW_PROFILE_SMART_CONTRACT_ADDRESS=
FLOW_DISCOVERY_WALLET=
FLOW_ACCESSNODE_API=
```

4. Start the development server:

```bash
npm run start
```

5. Open your browser and navigate to `http://localhost:3000` to see the frontend and test your API.

6. Check out the auto-generated API documentation at `http://localhost:3000/api-docs`.

## üõ† Adding New Methods

1. Open the `methods.js` file in the root directory.

2. Add a new method object to the `methods` array. The method object should have the following properties:

   - `id`: A unique identifier for the method (e.g., "translation").
   - `route`: The API route for the method (e.g., "/translate").
   - `method`: The HTTP method for the route (e.g., "post").
   - `title`: Short Title.
   - `description`: A brief description of the method.
   - `inputVariables`: An array of input variable names (e.g., ["Input Language", "Output Language", "Text"]).
   - `execute`: An async function that takes the input variables and returns the result.

3. In the `execute` function, you can use the `LangChain` library to create your Large Language Model chain. Check out the existing methods for examples.

4. Save the file and restart the development server. Your new method will be automatically added to the API and the documentation.

## üõ† Adding New Tools

1. Open the folder `tools` in the root directory.

2. Pick a tool you want to start working with as a base implementation e.g. for ChainLink or Flow Blockchain

3. Named the tool file and import it into `methods.js` above.

4. Enable the tool by modifying the Tool array in `methods.js`

Also under the `flow` directory, there are test js files you can use to quickly test flow blockchain operations and created new functionality and features prior to using an embedding them as AI tools.

## ChainLink Notes

1. Price Feed data obtained via offchain methods (reading the smart contract) from Sepolia test

Demoed for BTCUSD.

Feel free to add more pairs and/or chains.

2. The API framework is by itself good to go as an API, it is not hard to use chainlink functions then to call it.

Example would be as a bridge, where you can chainlink function call for a price feed and then automatically write down the state in Flow Blockchain demonstrating some sort of Proof Of Prompt etc.

## Flow Blockchain

The sky is the limit here as any one of the common tasks have been demoed and can be expanded upon. Early experiments have been done to also write cadence code and since it's easy to use the intructional templates, it is easy to create new ones as tools for dynamic custom generation via AI.

1. Currently as this is only a test and as it is meant to be running autonomously, the keys need to be generated first and account funded. After this you can use the AI to Initialise the profile etc as part of the initial setup.

2. Work is started to look at extending this using hybrid custodial wallets etc and using AWS Nitro Enclaves to store the keys securely and use them for signing transactions.

## The Power of LangchainJS

1. Do not underestimate the power that is available to you via LangchainJS. You can use it to create any type of AI tool you want and then use it as a bridge to the blockchain. This is a very powerful concept and can be used to create a whole new generation of tools and applications. Also the fact that you can connect to providers such as Zapier, IFTTT, Google Assistant, Alexa, Siri, Cortana etc. means that you can create a whole new generation of AI tools and applications that can be used by anyone.

## üìñ Documentation

- [LangChainJS Documentation](https://js.langchain.com/docs/)
- [OpenAI API Reference](https://beta.openai.com/docs/api-reference/introduction)
- [Express.js Documentation](https://expressjs.com/)
- [Swagger UI Documentation](https://swagger.io/tools/swagger-ui/)

## üö¢ Deployment

You can easily deploy your AIFlow API to your favorite hosting platform (e.g., Heroku, AWS, Google Cloud, etc.). Just follow the platform-specific deployment instructions and make sure to set the necessary environment variable in your deployment environment. You can also use Docker.

## ü§ù Contributing

We welcome contributions to the AI Flow Autonomous Agents! If you have any ideas, suggestions, or bug reports, please feel free to open an issue or submit a pull request.

## üìÉ License

This project is licensed under the MIT License. See the [LICENSE](./LICENSE) file for details.

---------------------------------------

Made with ‚ù§Ô∏è by GoldZulu and the [Metagineers](https://metagineers.com) Team
